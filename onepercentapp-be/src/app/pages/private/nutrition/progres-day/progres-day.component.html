<app-header backButton="/private/nutrition" title="Tu progreso de hoy" />
<ion-content class="safe-area">

  <app-date-progress></app-date-progress>

  <swiper-container slides-per-view="1" pagination="true" style="width: 100%; height: auto">
    <swiper-slide *ngFor="let slide of slides">
      <ng-container>
        <!-- Slide tipo "split" -->
        <ng-container *ngIf="slide.type === 'split'">
          <app-split-slide (puntosChange)="puntosSplit = $event"></app-split-slide>
        </ng-container>

        <!-- Slide tipo "double" -->
        <ng-container *ngIf="slide.type === 'double'">
          <div class="slide-row">
            <app-water-slide (puntosChange)="puntosWater = $event"></app-water-slide>
            <app-fruit-slide (puntosChange)="puntosFruit = $event"></app-fruit-slide>
          </div>
        </ng-container>
      </ng-container>
    </swiper-slide>
  </swiper-container>

  <app-progress-bar [puntos]="puntosTotales"></app-progress-bar>

  <div class="daily-timeline-container">
    <div class="header">
      <span class="title">{{ 'PROGRESS_DAY.CHRONOLOGY' | translate }}</span>
      <span class="score">500 <small>/ 500 pts</small></span>
    </div>
    <canvas #dailyChart></canvas>
  </div>

  <div class="event-card" *ngFor="let event of events">
    <div class="event-info">
      <div class="event-time">{{ event.time }}</div>
      <div class="event-details">
        <div class="event-title">{{ event.title }}</div>
        <span *ngIf="event.subtitle">-</span>
        <div class="event-subtitle" *ngIf="event.subtitle">{{ event.subtitle }}</div>
      </div>
    </div>
    <div class="event-score">
      <div class="event-points">
        +{{ event.points }} pts
      </div>
    </div>
  </div>
</ion-content>