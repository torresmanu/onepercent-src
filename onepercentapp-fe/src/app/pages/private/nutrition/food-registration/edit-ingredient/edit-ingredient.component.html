<app-header backButton="/private/food-registration" title="{{ 'EDIT_INGREDIENT.TITLE' | translate }}" heartIcon="true" />
<ion-content class="safe-area ion-padding">
    <!-- Ingredient Name -->
    <div class="ingredient-name">
        <h2 class="title">{{ ingredient.name }}</h2>
    </div>

    <!-- Unit Selection -->
    <div class="unit-container">
        <div class="unit-input">
            <span class="unit-text">{{ ingredient.unit }}</span>
            <ion-icon name="chevron-down-outline" class="dropdown-icon"></ion-icon>
        </div>
    </div>

    <!-- Quantity and Calories -->
    <div class="quantity-calories-container">
        <div class="quantity-input">
            <input type="number" [(ngModel)]="ingredient.quantity" class="quantity-field" placeholder="100" (input)="onQuantityChange()">
        </div>
        <div class="calories-display">
            <span class="calories-text">{{ ingredient.kcal }} kcal</span>
        </div>
    </div>

    <!-- Nutritional Information -->
    <div class="nutrition-info-container">
        <div class="nutrition-info">
            <ion-icon name="information-circle" class="info-icon"></ion-icon>
            <span class="info-text">Informaci√≥n nutricional</span>
            <ion-icon name="chevron-down-outline" class="dropdown-icon"></ion-icon>
        </div>
    </div>

    <!-- Bottom spacing to prevent content from being hidden behind fixed button -->
    <div class="bottom-spacing"></div>
</ion-content>

<!-- Fixed Save Button -->
<div class="save-button-container">
    <ion-button expand="block" class="save-button" (click)="onSaveChanges()" [disabled]="isSaving">
        <ion-spinner *ngIf="isSaving" name="crescent"></ion-spinner>
        <span *ngIf="!isSaving">{{ 'FOOD_REGISTRATION.SAVE_BUTTON' | translate }}</span>
    </ion-button>
</div>